{
  "info": {
    "_postman_id": "pdf-generator-mazuma-v1",
    "name": "PDF Generator — Mazuma",
    "description": "In-house PDF generation service for Mazuma Service Co., Ltd.\n\n**Base URL:** `{{baseUrl}}` (default: http://localhost:3000)\n\n**Auth:** Set `X-API-Key` header = `{{apiKey}}`. Leave blank in dev mode (when PDF_API_KEY env var is not set).\n\n**Endpoints:**\n- `POST /pdf/render` — render named template or raw HTML\n  - Default: save to disk → JSON `{ success, fileName, fileUrl, fileSize }` (201)\n  - `?output=stream` → PDF binary stream (200)\n- `GET /pdf/files/:fileName` — download a previously saved PDF",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:3000", "type": "string" },
    { "key": "apiKey", "value": "", "type": "string", "description": "Set PDF_API_KEY env var value here. Leave blank for dev mode." }
  ],
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": { "raw": "{{baseUrl}}/health", "host": ["{{baseUrl}}"], "path": ["health"] },
            "description": "Ping the server. No auth required. Useful for uptime monitoring."
          },
          "response": [
            {
              "name": "200 OK",
              "status": "OK",
              "code": 200,
              "header": [{ "key": "Content-Type", "value": "application/json" }],
              "body": "{\"status\":\"ok\"}"
            }
          ]
        }
      ]
    },
    {
      "name": "ใบยืมสินค้า/อะไหล่",
      "item": [
        {
          "name": "Render → Save to File",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "X-API-Key", "value": "{{apiKey}}", "description": "Omit or leave blank in dev mode" }
            ],
            "url": { "raw": "{{baseUrl}}/pdf/render", "host": ["{{baseUrl}}"], "path": ["pdf", "render"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template\": \"borrowing-slip\",\n  \"data\": {\n    \"documentNo\": \"2511BR000245\",\n    \"documentType\": \"ใบยืมหลัก\",\n    \"customerName\": \"Natthapong Maiwan\",\n    \"productName\": \"เครื่องกรองน้ำ S38-122-100LM\",\n    \"productCode\": \"30-3280-F\",\n    \"workOrderNo\": \"2511TS000162\",\n    \"workOrderType\": \"ซ่อมและเปลี่ยนสาร\",\n    \"runDate\": \"2025-11-18T00:00:00.000Z\",\n    \"technicianName\": \"Nut Gundamas\",\n    \"technicianWarehouse\": \"WBS-UPC-KK01\",\n    \"openDate\": \"2025-11-18T00:00:00.000Z\",\n    \"serviceCenter\": \"KK\",\n    \"managedBy\": \"pir dev\",\n    \"senderWarehouse\": \"คุณสุปรีชา ร้อยพา\",\n    \"receiverWarehouse\": \"คุณสุปรีชา ร้อยพา\",\n    \"parts\": [\n      { \"matUnitId\": \"M1-83468-F\", \"matName\": \"สารกรองแมงกานีส บรรจุถุง 7 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 470.00, \"salePrice\": 470.00 },\n      { \"matUnitId\": \"60-6823-F\", \"matName\": \"เกลือล้างสารกรองเรซิ่น บรรจุถุง 160g (For 3นิ้ว)\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 100.00, \"salePrice\": 200.00 },\n      { \"matUnitId\": \"M2-80182-F\", \"matName\": \"สารกรองคาร์บอน บรรจุถุง 10 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 4, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1000.00, \"salePrice\": 1000.00 },\n      { \"matUnitId\": \"M0-80182-F\", \"matName\": \"สารกรองคาร์บอน บรรจุถุง 5 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 520.00, \"salePrice\": 520.00 },\n      { \"matUnitId\": \"M2-73838-F\", \"matName\": \"สารกรองแอนทราไซด์บรรจุถุง 10 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 950.00, \"salePrice\": 950.00 },\n      { \"matUnitId\": \"F1-12001-F\", \"matName\": \"ไส้กรอง PP 5 ไมครอน 10 นิ้ว\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 85.00, \"salePrice\": 425.00 },\n      { \"matUnitId\": \"F1-12002-F\", \"matName\": \"ไส้กรอง CTO 10 นิ้ว กำจัดกลิ่นคลอรีน\", \"borrowed\": 6, \"issued\": 6, \"free\": null, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 120.00, \"salePrice\": 600.00 },\n      { \"matUnitId\": \"F1-12003-F\", \"matName\": \"ไส้กรองเมมเบรน RO 75 GPD\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 850.00, \"salePrice\": 1700.00 },\n      { \"matUnitId\": \"V1-20011-F\", \"matName\": \"วาล์วน้ำ 3/8 นิ้ว ทองเหลือง\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": 1, \"unitPrice\": 180.00, \"salePrice\": 360.00 },\n      { \"matUnitId\": \"V1-20012-F\", \"matName\": \"วาล์วลูกลอยถัง 1/2 นิ้ว\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 220.00, \"salePrice\": 440.00 },\n      { \"matUnitId\": \"P1-30101-F\", \"matName\": \"ปั๊มน้ำ 24V DC Booster สำหรับ RO\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1200.00, \"salePrice\": 1200.00 },\n      { \"matUnitId\": \"P1-30102-F\", \"matName\": \"ปั๊มน้ำหอยโข่ง 220V 150W\", \"borrowed\": 1, \"issued\": 0, \"free\": null, \"sold\": 0, \"remaining\": 1, \"returned\": 1, \"unitPrice\": 2800.00, \"salePrice\": 0.00 },\n      { \"matUnitId\": \"T1-40201-F\", \"matName\": \"ถังเก็บน้ำ 3.2 แกลลอน สำหรับ RO\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 650.00, \"salePrice\": 1300.00 },\n      { \"matUnitId\": \"T1-40202-F\", \"matName\": \"ถังกรอง FRP 8x44 นิ้ว\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 3500.00, \"salePrice\": 3500.00 },\n      { \"matUnitId\": \"H1-50301-F\", \"matName\": \"หัวกรองสำเร็จรูป 4 ขั้นตอน ใต้ซิงค์\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 4200.00, \"salePrice\": 4200.00 },\n      { \"matUnitId\": \"S1-60401-F\", \"matName\": \"สาย PE 1/4 นิ้ว สีขาว 1 เมตร\", \"borrowed\": 10, \"issued\": 10, \"free\": 2, \"sold\": 8, \"remaining\": 0, \"returned\": null, \"unitPrice\": 15.00, \"salePrice\": 120.00 },\n      { \"matUnitId\": \"S1-60402-F\", \"matName\": \"สาย PE 3/8 นิ้ว สีน้ำเงิน 1 เมตร\", \"borrowed\": 5, \"issued\": 5, \"free\": null, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 22.00, \"salePrice\": 110.00 },\n      { \"matUnitId\": \"C1-70501-F\", \"matName\": \"ข้อต่อสาย PE 1/4 ตรง John Guest\", \"borrowed\": 8, \"issued\": 8, \"free\": 1, \"sold\": 7, \"remaining\": 0, \"returned\": null, \"unitPrice\": 35.00, \"salePrice\": 245.00 },\n      { \"matUnitId\": \"C1-70502-F\", \"matName\": \"ข้อต่อสาย PE 1/4 งอ 90° John Guest\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 4, \"remaining\": 0, \"returned\": null, \"unitPrice\": 45.00, \"salePrice\": 180.00 },\n      { \"matUnitId\": \"C1-70503-F\", \"matName\": \"ข้อต่อ T สาย PE 1/4 นิ้ว\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 55.00, \"salePrice\": 165.00 },\n      { \"matUnitId\": \"G1-80601-F\", \"matName\": \"เกจวัดแรงดันน้ำ 0-10 bar หน้าปัด 40mm\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 280.00, \"salePrice\": 280.00 },\n      { \"matUnitId\": \"G1-80602-F\", \"matName\": \"เกจวัดความดัน 1/4 NPT ทองเหลือง\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 320.00, \"salePrice\": 320.00 },\n      { \"matUnitId\": \"E1-90701-F\", \"matName\": \"อิเล็กโทรดวัดค่า TDS ดิจิตอล\", \"borrowed\": 3, \"issued\": 3, \"free\": 1, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 150.00, \"salePrice\": 300.00 },\n      { \"matUnitId\": \"E1-90702-F\", \"matName\": \"หัววัด pH ดิจิตอล สำหรับน้ำดื่ม\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 890.00, \"salePrice\": 890.00 },\n      { \"matUnitId\": \"R1-11001-F\", \"matName\": \"เรซิ่นแลกเปลี่ยนไอออน บรรจุถุง 5 ลิตร\", \"borrowed\": 5, \"issued\": 5, \"free\": null, \"sold\": 4, \"remaining\": 1, \"returned\": null, \"unitPrice\": 480.00, \"salePrice\": 1920.00 },\n      { \"matUnitId\": \"R1-11002-F\", \"matName\": \"เรซิ่นแลกเปลี่ยนไอออนชนิดผสม Mixed Bed 10 ลิตร\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1100.00, \"salePrice\": 2200.00 },\n      { \"matUnitId\": \"M3-11101-F\", \"matName\": \"สารกรองทราย Silica Sand บรรจุถุง 25 กก.\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 250.00, \"salePrice\": 750.00 },\n      { \"matUnitId\": \"M3-11102-F\", \"matName\": \"สารกรองหินปะการัง Calcite บรรจุถุง 25 กก.\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 380.00, \"salePrice\": 760.00 },\n      { \"matUnitId\": \"L1-12201-F\", \"matName\": \"ชุดหลอดไฟ UV 11W 254nm สำหรับฆ่าเชื้อโรค\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 650.00, \"salePrice\": 1300.00 },\n      { \"matUnitId\": \"L1-12202-F\", \"matName\": \"เครื่องฆ่าเชื้อ UV 12W พร้อมท่อ Quartz\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 2400.00, \"salePrice\": 2400.00 },\n      { \"matUnitId\": \"O1-13301-F\", \"matName\": \"โอริง EPDM ขนาด 2.5 นิ้ว ชุด 10 ชิ้น\", \"borrowed\": 2, \"issued\": 2, \"free\": 1, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 90.00, \"salePrice\": 90.00 },\n      { \"matUnitId\": \"O1-13302-F\", \"matName\": \"โอริง Buna-N สำหรับหัวกรอง 10 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 65.00, \"salePrice\": 195.00 },\n      { \"matUnitId\": \"W1-14401-F\", \"matName\": \"เครื่องทำน้ำอุ่น อินสแตนท์ 3500W\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 5500.00, \"salePrice\": 5500.00 },\n      { \"matUnitId\": \"W1-14402-F\", \"matName\": \"ฮีตเตอร์แบบขดลวด Cartridge 1000W 220V\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 420.00, \"salePrice\": 420.00 },\n      { \"matUnitId\": \"D1-15501-F\", \"matName\": \"โซลินอยด์วาล์ว 24V DC 1/4 นิ้ว\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 3, \"remaining\": 1, \"returned\": null, \"unitPrice\": 350.00, \"salePrice\": 1050.00 },\n      { \"matUnitId\": \"D1-15502-F\", \"matName\": \"โซลินอยด์วาล์ว 220V AC 1/2 นิ้ว NC ทองเหลือง\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 580.00, \"salePrice\": 1160.00 },\n      { \"matUnitId\": \"N1-16601-F\", \"matName\": \"ตะแกรงกรองหยาบ Y-Strainer 1/2 นิ้ว สแตนเลส\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": null, \"unitPrice\": 290.00, \"salePrice\": 580.00 },\n      { \"matUnitId\": \"A1-17701-F\", \"matName\": \"กาวซิลิโคน Foodgrade ขนาด 80g\", \"borrowed\": 5, \"issued\": 5, \"free\": 2, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 75.00, \"salePrice\": 225.00 },\n      { \"matUnitId\": \"A1-17702-F\", \"matName\": \"เทปพันเกลียว PTFE 12mm×10m\", \"borrowed\": 10, \"issued\": 10, \"free\": 3, \"sold\": 7, \"remaining\": 0, \"returned\": null, \"unitPrice\": 18.00, \"salePrice\": 126.00 },\n      { \"matUnitId\": \"B1-18801-F\", \"matName\": \"บอร์ดควบคุม PCB สำหรับเครื่องกรอง 4 ขั้น\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 3200.00, \"salePrice\": 3200.00 },\n      { \"matUnitId\": \"B1-18802-F\", \"matName\": \"บอร์ดแสดงผล LCD TDS Meter แบบติดตั้ง\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 780.00, \"salePrice\": 780.00 },\n      { \"matUnitId\": \"X1-19901-F\", \"matName\": \"ชุดอะแดปเตอร์ท่อ 1/2 × 3/8 นิ้ว พลาสติก ABS\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 28.00, \"salePrice\": 140.00 },\n      { \"matUnitId\": \"X1-19902-F\", \"matName\": \"แคลมป์ยึดท่อ สแตนเลส ขนาด 1/2 นิ้ว ชุด 10 ชิ้น\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 4, \"remaining\": 0, \"returned\": null, \"unitPrice\": 120.00, \"salePrice\": 480.00 },\n      { \"matUnitId\": \"Z1-20001-F\", \"matName\": \"ฟลาสก์ตีบน้ำ Glass Flask 500ml\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 195.00, \"salePrice\": 390.00 },\n      { \"matUnitId\": \"Z1-20002-F\", \"matName\": \"สารทดสอบคลอรีน DPD No.1 บรรจุ 100 เม็ด\", \"borrowed\": 3, \"issued\": 3, \"free\": 1, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 220.00, \"salePrice\": 440.00 },\n      { \"matUnitId\": \"K1-21101-F\", \"matName\": \"ก๊อกน้ำ 3 ทาง สำหรับ RO สแตนเลส 304\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 480.00, \"salePrice\": 960.00 },\n      { \"matUnitId\": \"K1-21102-F\", \"matName\": \"ก๊อกน้ำดื่ม ก้านยาว ทองเหลือง ชุบโครเมียม\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": null, \"unitPrice\": 350.00, \"salePrice\": 700.00 },\n      { \"matUnitId\": \"Q1-22201-F\", \"matName\": \"ควิกคอนเนกต์ 1/4 Push Fit ตัวผู้ G1/4\", \"borrowed\": 8, \"issued\": 8, \"free\": 2, \"sold\": 6, \"remaining\": 0, \"returned\": null, \"unitPrice\": 42.00, \"salePrice\": 252.00 },\n      { \"matUnitId\": \"Q1-22202-F\", \"matName\": \"ควิกคอนเนกต์ 3/8 Push Fit ตัวเมีย G3/8\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 55.00, \"salePrice\": 275.00 },\n      { \"matUnitId\": \"J1-23301-F\", \"matName\": \"จุกปิดสาย PE 1/4 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 4, \"issued\": 4, \"free\": 1, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 30.00, \"salePrice\": 90.00 },\n      { \"matUnitId\": \"J1-23302-F\", \"matName\": \"จุกปิดสาย PE 3/8 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 38.00, \"salePrice\": 114.00 }\n    ]\n  }\n}",
              "options": { "raw": { "language": "json" } }
            },
            "description": "Renders ใบยืมสินค้า/อะไหล่ and saves PDF to disk. Returns JSON with `fileUrl` to download the result.\n\n**null values** for `free`/`returned` will render as `—` (via `valueOrDash` helper)."
          },
          "response": [
            {
              "name": "201 Created — File saved",
              "status": "Created",
              "code": 201,
              "header": [{ "key": "Content-Type", "value": "application/json" }],
              "body": "{\n  \"success\": true,\n  \"fileName\": \"borrowing-slip-abc12345-1234567890123.pdf\",\n  \"fileUrl\": \"http://localhost:3000/pdf/files/borrowing-slip-abc12345-1234567890123.pdf\",\n  \"fileSize\": 135000\n}"
            }
          ]
        },
        {
          "name": "Render → Stream PDF",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "X-API-Key", "value": "{{apiKey}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/pdf/render?output=stream",
              "host": ["{{baseUrl}}"],
              "path": ["pdf", "render"],
              "query": [{ "key": "output", "value": "stream", "description": "Returns PDF binary directly instead of saving to disk" }]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template\": \"borrowing-slip\",\n  \"data\": {\n    \"documentNo\": \"2511BR000245\",\n    \"documentType\": \"ใบยืมหลัก\",\n    \"customerName\": \"Natthapong Maiwan\",\n    \"productName\": \"เครื่องกรองน้ำ S38-122-100LM\",\n    \"productCode\": \"30-3280-F\",\n    \"workOrderNo\": \"2511TS000162\",\n    \"workOrderType\": \"ซ่อมและเปลี่ยนสาร\",\n    \"runDate\": \"2025-11-18T00:00:00.000Z\",\n    \"technicianName\": \"Nut Gundamas\",\n    \"technicianWarehouse\": \"WBS-UPC-KK01\",\n    \"openDate\": \"2025-11-18T00:00:00.000Z\",\n    \"serviceCenter\": \"KK\",\n    \"managedBy\": \"pir dev\",\n    \"senderWarehouse\": \"คุณสุปรีชา ร้อยพา\",\n    \"receiverWarehouse\": \"คุณสุปรีชา ร้อยพา\",\n    \"parts\": [\n      { \"matUnitId\": \"M1-83468-F\", \"matName\": \"สารกรองแมงกานีส บรรจุถุง 7 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 470.00, \"salePrice\": 470.00 },\n      { \"matUnitId\": \"60-6823-F\", \"matName\": \"เกลือล้างสารกรองเรซิ่น บรรจุถุง 160g (For 3นิ้ว)\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 100.00, \"salePrice\": 200.00 },\n      { \"matUnitId\": \"M2-80182-F\", \"matName\": \"สารกรองคาร์บอน บรรจุถุง 10 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 4, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1000.00, \"salePrice\": 1000.00 },\n      { \"matUnitId\": \"M0-80182-F\", \"matName\": \"สารกรองคาร์บอน บรรจุถุง 5 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 520.00, \"salePrice\": 520.00 },\n      { \"matUnitId\": \"M2-73838-F\", \"matName\": \"สารกรองแอนทราไซด์บรรจุถุง 10 ลิตร ขายพร้อมเครื่องกรองใหญ่\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 950.00, \"salePrice\": 950.00 },\n      { \"matUnitId\": \"F1-12001-F\", \"matName\": \"ไส้กรอง PP 5 ไมครอน 10 นิ้ว\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 85.00, \"salePrice\": 425.00 },\n      { \"matUnitId\": \"F1-12002-F\", \"matName\": \"ไส้กรอง CTO 10 นิ้ว กำจัดกลิ่นคลอรีน\", \"borrowed\": 6, \"issued\": 6, \"free\": null, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 120.00, \"salePrice\": 600.00 },\n      { \"matUnitId\": \"F1-12003-F\", \"matName\": \"ไส้กรองเมมเบรน RO 75 GPD\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 850.00, \"salePrice\": 1700.00 },\n      { \"matUnitId\": \"V1-20011-F\", \"matName\": \"วาล์วน้ำ 3/8 นิ้ว ทองเหลือง\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": 1, \"unitPrice\": 180.00, \"salePrice\": 360.00 },\n      { \"matUnitId\": \"V1-20012-F\", \"matName\": \"วาล์วลูกลอยถัง 1/2 นิ้ว\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 220.00, \"salePrice\": 440.00 },\n      { \"matUnitId\": \"P1-30101-F\", \"matName\": \"ปั๊มน้ำ 24V DC Booster สำหรับ RO\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1200.00, \"salePrice\": 1200.00 },\n      { \"matUnitId\": \"P1-30102-F\", \"matName\": \"ปั๊มน้ำหอยโข่ง 220V 150W\", \"borrowed\": 1, \"issued\": 0, \"free\": null, \"sold\": 0, \"remaining\": 1, \"returned\": 1, \"unitPrice\": 2800.00, \"salePrice\": 0.00 },\n      { \"matUnitId\": \"T1-40201-F\", \"matName\": \"ถังเก็บน้ำ 3.2 แกลลอน สำหรับ RO\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 650.00, \"salePrice\": 1300.00 },\n      { \"matUnitId\": \"T1-40202-F\", \"matName\": \"ถังกรอง FRP 8x44 นิ้ว\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 3500.00, \"salePrice\": 3500.00 },\n      { \"matUnitId\": \"H1-50301-F\", \"matName\": \"หัวกรองสำเร็จรูป 4 ขั้นตอน ใต้ซิงค์\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 4200.00, \"salePrice\": 4200.00 },\n      { \"matUnitId\": \"S1-60401-F\", \"matName\": \"สาย PE 1/4 นิ้ว สีขาว 1 เมตร\", \"borrowed\": 10, \"issued\": 10, \"free\": 2, \"sold\": 8, \"remaining\": 0, \"returned\": null, \"unitPrice\": 15.00, \"salePrice\": 120.00 },\n      { \"matUnitId\": \"S1-60402-F\", \"matName\": \"สาย PE 3/8 นิ้ว สีน้ำเงิน 1 เมตร\", \"borrowed\": 5, \"issued\": 5, \"free\": null, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 22.00, \"salePrice\": 110.00 },\n      { \"matUnitId\": \"C1-70501-F\", \"matName\": \"ข้อต่อสาย PE 1/4 ตรง John Guest\", \"borrowed\": 8, \"issued\": 8, \"free\": 1, \"sold\": 7, \"remaining\": 0, \"returned\": null, \"unitPrice\": 35.00, \"salePrice\": 245.00 },\n      { \"matUnitId\": \"C1-70502-F\", \"matName\": \"ข้อต่อสาย PE 1/4 งอ 90° John Guest\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 4, \"remaining\": 0, \"returned\": null, \"unitPrice\": 45.00, \"salePrice\": 180.00 },\n      { \"matUnitId\": \"C1-70503-F\", \"matName\": \"ข้อต่อ T สาย PE 1/4 นิ้ว\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 55.00, \"salePrice\": 165.00 },\n      { \"matUnitId\": \"G1-80601-F\", \"matName\": \"เกจวัดแรงดันน้ำ 0-10 bar หน้าปัด 40mm\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 280.00, \"salePrice\": 280.00 },\n      { \"matUnitId\": \"G1-80602-F\", \"matName\": \"เกจวัดความดัน 1/4 NPT ทองเหลือง\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 320.00, \"salePrice\": 320.00 },\n      { \"matUnitId\": \"E1-90701-F\", \"matName\": \"อิเล็กโทรดวัดค่า TDS ดิจิตอล\", \"borrowed\": 3, \"issued\": 3, \"free\": 1, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 150.00, \"salePrice\": 300.00 },\n      { \"matUnitId\": \"E1-90702-F\", \"matName\": \"หัววัด pH ดิจิตอล สำหรับน้ำดื่ม\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 890.00, \"salePrice\": 890.00 },\n      { \"matUnitId\": \"R1-11001-F\", \"matName\": \"เรซิ่นแลกเปลี่ยนไอออน บรรจุถุง 5 ลิตร\", \"borrowed\": 5, \"issued\": 5, \"free\": null, \"sold\": 4, \"remaining\": 1, \"returned\": null, \"unitPrice\": 480.00, \"salePrice\": 1920.00 },\n      { \"matUnitId\": \"R1-11002-F\", \"matName\": \"เรซิ่นแลกเปลี่ยนไอออนชนิดผสม Mixed Bed 10 ลิตร\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 1100.00, \"salePrice\": 2200.00 },\n      { \"matUnitId\": \"M3-11101-F\", \"matName\": \"สารกรองทราย Silica Sand บรรจุถุง 25 กก.\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 250.00, \"salePrice\": 750.00 },\n      { \"matUnitId\": \"M3-11102-F\", \"matName\": \"สารกรองหินปะการัง Calcite บรรจุถุง 25 กก.\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 380.00, \"salePrice\": 760.00 },\n      { \"matUnitId\": \"L1-12201-F\", \"matName\": \"ชุดหลอดไฟ UV 11W 254nm สำหรับฆ่าเชื้อโรค\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 650.00, \"salePrice\": 1300.00 },\n      { \"matUnitId\": \"L1-12202-F\", \"matName\": \"เครื่องฆ่าเชื้อ UV 12W พร้อมท่อ Quartz\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 2400.00, \"salePrice\": 2400.00 },\n      { \"matUnitId\": \"O1-13301-F\", \"matName\": \"โอริง EPDM ขนาด 2.5 นิ้ว ชุด 10 ชิ้น\", \"borrowed\": 2, \"issued\": 2, \"free\": 1, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 90.00, \"salePrice\": 90.00 },\n      { \"matUnitId\": \"O1-13302-F\", \"matName\": \"โอริง Buna-N สำหรับหัวกรอง 10 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 65.00, \"salePrice\": 195.00 },\n      { \"matUnitId\": \"W1-14401-F\", \"matName\": \"เครื่องทำน้ำอุ่น อินสแตนท์ 3500W\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 5500.00, \"salePrice\": 5500.00 },\n      { \"matUnitId\": \"W1-14402-F\", \"matName\": \"ฮีตเตอร์แบบขดลวด Cartridge 1000W 220V\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 420.00, \"salePrice\": 420.00 },\n      { \"matUnitId\": \"D1-15501-F\", \"matName\": \"โซลินอยด์วาล์ว 24V DC 1/4 นิ้ว\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 3, \"remaining\": 1, \"returned\": null, \"unitPrice\": 350.00, \"salePrice\": 1050.00 },\n      { \"matUnitId\": \"D1-15502-F\", \"matName\": \"โซลินอยด์วาล์ว 220V AC 1/2 นิ้ว NC ทองเหลือง\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 580.00, \"salePrice\": 1160.00 },\n      { \"matUnitId\": \"N1-16601-F\", \"matName\": \"ตะแกรงกรองหยาบ Y-Strainer 1/2 นิ้ว สแตนเลส\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": null, \"unitPrice\": 290.00, \"salePrice\": 580.00 },\n      { \"matUnitId\": \"A1-17701-F\", \"matName\": \"กาวซิลิโคน Foodgrade ขนาด 80g\", \"borrowed\": 5, \"issued\": 5, \"free\": 2, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 75.00, \"salePrice\": 225.00 },\n      { \"matUnitId\": \"A1-17702-F\", \"matName\": \"เทปพันเกลียว PTFE 12mm×10m\", \"borrowed\": 10, \"issued\": 10, \"free\": 3, \"sold\": 7, \"remaining\": 0, \"returned\": null, \"unitPrice\": 18.00, \"salePrice\": 126.00 },\n      { \"matUnitId\": \"B1-18801-F\", \"matName\": \"บอร์ดควบคุม PCB สำหรับเครื่องกรอง 4 ขั้น\", \"borrowed\": 1, \"issued\": 1, \"free\": null, \"sold\": 1, \"remaining\": 0, \"returned\": null, \"unitPrice\": 3200.00, \"salePrice\": 3200.00 },\n      { \"matUnitId\": \"B1-18802-F\", \"matName\": \"บอร์ดแสดงผล LCD TDS Meter แบบติดตั้ง\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 1, \"remaining\": 1, \"returned\": null, \"unitPrice\": 780.00, \"salePrice\": 780.00 },\n      { \"matUnitId\": \"X1-19901-F\", \"matName\": \"ชุดอะแดปเตอร์ท่อ 1/2 × 3/8 นิ้ว พลาสติก ABS\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 28.00, \"salePrice\": 140.00 },\n      { \"matUnitId\": \"X1-19902-F\", \"matName\": \"แคลมป์ยึดท่อ สแตนเลส ขนาด 1/2 นิ้ว ชุด 10 ชิ้น\", \"borrowed\": 4, \"issued\": 4, \"free\": null, \"sold\": 4, \"remaining\": 0, \"returned\": null, \"unitPrice\": 120.00, \"salePrice\": 480.00 },\n      { \"matUnitId\": \"Z1-20001-F\", \"matName\": \"ฟลาสก์ตีบน้ำ Glass Flask 500ml\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 195.00, \"salePrice\": 390.00 },\n      { \"matUnitId\": \"Z1-20002-F\", \"matName\": \"สารทดสอบคลอรีน DPD No.1 บรรจุ 100 เม็ด\", \"borrowed\": 3, \"issued\": 3, \"free\": 1, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 220.00, \"salePrice\": 440.00 },\n      { \"matUnitId\": \"K1-21101-F\", \"matName\": \"ก๊อกน้ำ 3 ทาง สำหรับ RO สแตนเลส 304\", \"borrowed\": 2, \"issued\": 2, \"free\": null, \"sold\": 2, \"remaining\": 0, \"returned\": null, \"unitPrice\": 480.00, \"salePrice\": 960.00 },\n      { \"matUnitId\": \"K1-21102-F\", \"matName\": \"ก๊อกน้ำดื่ม ก้านยาว ทองเหลือง ชุบโครเมียม\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 2, \"remaining\": 1, \"returned\": null, \"unitPrice\": 350.00, \"salePrice\": 700.00 },\n      { \"matUnitId\": \"Q1-22201-F\", \"matName\": \"ควิกคอนเนกต์ 1/4 Push Fit ตัวผู้ G1/4\", \"borrowed\": 8, \"issued\": 8, \"free\": 2, \"sold\": 6, \"remaining\": 0, \"returned\": null, \"unitPrice\": 42.00, \"salePrice\": 252.00 },\n      { \"matUnitId\": \"Q1-22202-F\", \"matName\": \"ควิกคอนเนกต์ 3/8 Push Fit ตัวเมีย G3/8\", \"borrowed\": 6, \"issued\": 6, \"free\": 1, \"sold\": 5, \"remaining\": 0, \"returned\": null, \"unitPrice\": 55.00, \"salePrice\": 275.00 },\n      { \"matUnitId\": \"J1-23301-F\", \"matName\": \"จุกปิดสาย PE 1/4 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 4, \"issued\": 4, \"free\": 1, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 30.00, \"salePrice\": 90.00 },\n      { \"matUnitId\": \"J1-23302-F\", \"matName\": \"จุกปิดสาย PE 3/8 นิ้ว ชุด 5 ชิ้น\", \"borrowed\": 3, \"issued\": 3, \"free\": null, \"sold\": 3, \"remaining\": 0, \"returned\": null, \"unitPrice\": 38.00, \"salePrice\": 114.00 }\n    ]\n  }\n}",
              "options": { "raw": { "language": "json" } }
            },
            "description": "Returns PDF binary directly (200). In Postman, click **Save Response → Save to a file** to download the PDF."
          }
        }
      ]
    },
    {
      "name": "ใบสั่งงานบริการ (2 หน้า)",
      "item": [
        {
          "name": "Render → Save to File",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "X-API-Key", "value": "{{apiKey}}" }
            ],
            "url": { "raw": "{{baseUrl}}/pdf/render", "host": ["{{baseUrl}}"], "path": ["pdf", "render"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template\": \"service-order\",\n  \"data\": {\n    \"workOrderNo\": \"2511TS000051\",\n    \"qrCodeContent\": \"2511TS000051\",\n    \"phone\": \"020-111-999\",\n    \"taxId\": \"0105553039338\",\n    \"openDate\": \"2025-11-10T04:57:19.896Z\",\n    \"createdBy\": \"pir dev\",\n    \"customerName\": \"Chayanan Chutimamas\",\n    \"customerCode\": \"40203\",\n    \"contactName\": \"ชยานันต์ ชุติมามาศ\",\n    \"contactPhone\": \"0828488805\",\n    \"workOrderType\": \"ซ่อมและเปลี่ยนสาร\",\n    \"productName\": \"เครื่องกรองน้ำ S19-90-20MIX\",\n    \"productCode\": \"30-0026-F\",\n    \"serialNo\": \"Test90001218\",\n    \"serviceCenter\": \"ศูนย์บริการนวมินทร์\",\n    \"serviceDate\": \"2025-11-09T17:00:00.000Z\",\n    \"serviceTime\": \"08:00\",\n    \"purchaseDate\": \"\",\n    \"purchaseLocation\": \"\",\n    \"installDate\": \"\",\n    \"productAddress\": \"21/89, บ้านหลวง, จอมทอง, เชียงใหม่, 50160\",\n    \"receiveAddress\": \"21349/5455 แขวง สวนจิตรลดา เขต เขตดุสิต กรุงเทพมหานคร 10300\",\n    \"taxInvoiceAddress\": \"\",\n    \"initialSymptom\": \"\",\n    \"actionPerformed\": \"ตรวจสอบและซ่อมบำรุงเครื่องกรองน้ำ\",\n    \"customerAdvice\": \"ดูแลรักษาสม่ำเสมอ\",\n    \"preInstallData\": {\n      \"waterPressure\": \"30 psi\",\n      \"chlorine\": \"0.5\",\n      \"tds\": \"450\",\n      \"hardness\": \"200\",\n      \"airPressure\": \"15 psi\",\n      \"waterTemp\": \"28\",\n      \"ph\": \"7.2\"\n    },\n    \"postInstallData\": {\n      \"waterPressure\": \"30 psi\",\n      \"chlorine\": \"0.1\",\n      \"tds\": \"13\",\n      \"hardness\": \"33\",\n      \"airPressure\": \"15 psi\",\n      \"waterTemp\": \"28\",\n      \"ph\": \"4.8\"\n    },\n    \"technicianName\": \"ปอนด์ที่ส่งP1ได้ เทส\",\n    \"technicianWarehouse\": \"WBS-EC-A33\",\n    \"borrowSlipNos\": \"2511BR000089, 2511BR000088\",\n    \"quotationNo\": \"2511QT000013\",\n    \"evaluator\": \"pir dev\",\n    \"travelStartTime\": \"2025-11-10T05:12:59.780Z\",\n    \"workStartTime\": \"2025-11-10T05:13:16.538Z\",\n    \"workEndTime\": \"2025-11-10T05:14:01.860Z\",\n    \"costs\": {\n      \"productCost\": 179,\n      \"serviceFee\": 168.3,\n      \"installationFee\": 99,\n      \"travelCost\": 148.5,\n      \"otherCost\": 198,\n      \"totalCost\": 613.8\n    },\n    \"customerSignatureUrl\": \"\",\n    \"checklist\": [\n      { \"description\": \"ช่างได้แสดงบัตรประจำตัวพนักงานและแนะนำตัวเองให้ลูกค้าตรวจสอบ\", \"checked\": true },\n      { \"description\": \"ช่างได้ชี้แจงวัตถุประสงค์ในการให้บริการครั้งนี้อย่างชัดเจน\", \"checked\": true },\n      { \"description\": \"ช่างได้ตรวจสอบพื้นที่การทำงานและเครื่องที่จะรับบริการก่อนเริ่มดำเนินการ\", \"checked\": true },\n      { \"description\": \"ช่างได้แจ้งค่าใช้จ่ายให้ลูกค้ารับทราบก่อนเริ่มปฏิบัติงานทุกครั้ง\", \"checked\": true },\n      { \"description\": \"ช่างได้ตรวจสอบความเรียบร้อยของการให้บริการร่วมกับลูกค้า\", \"checked\": true },\n      { \"description\": \"ช่างได้ทำความสะอาดบริเวณพื้นที่หน้างานของลูกค้าให้เรียบร้อยแล้ว\", \"checked\": true },\n      { \"description\": \"ช่างได้ดำเนินการปรับตั้งวาล์วน้ำและเบรกเกอร์ที่เกี่ยวข้องให้ถูกต้องครบถ้วน\", \"checked\": true },\n      { \"description\": \"ช่างได้ให้คำแนะนำและอธิบายวิธีการใช้งานเครื่องแก่ลูกค้าอย่างละเอียด\", \"checked\": true },\n      { \"description\": \"แนะนำลูกค้าปิดวาล์วน้ำเมื่อออกจากบ้านเป็นระยะเวลานาน\", \"checked\": true }\n    ]\n  }\n}",
              "options": { "raw": { "language": "json" } }
            },
            "description": "Renders ใบสั่งงานบริการ (2 pages) and saves PDF to disk.\n\n**Notable fields:**\n- `qrCodeContent` → server auto-generates `qrCodeDataUri` (QR code image in header)\n- `checklist` → page 2, 9 standard items\n- `null`/empty string values render as `—` via `valueOrDash` helper\n- `travelStartTime`/`workStartTime`/`workEndTime` → formatted as HH:mm (Buddhist year ignored)"
          },
          "response": [
            {
              "name": "201 Created — File saved",
              "status": "Created",
              "code": 201,
              "header": [{ "key": "Content-Type", "value": "application/json" }],
              "body": "{\n  \"success\": true,\n  \"fileName\": \"service-order-abc12345-1234567890123.pdf\",\n  \"fileUrl\": \"http://localhost:3000/pdf/files/service-order-abc12345-1234567890123.pdf\",\n  \"fileSize\": 175000\n}"
            }
          ]
        },
        {
          "name": "Render → Stream PDF",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "X-API-Key", "value": "{{apiKey}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/pdf/render?output=stream",
              "host": ["{{baseUrl}}"],
              "path": ["pdf", "render"],
              "query": [{ "key": "output", "value": "stream" }]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template\": \"service-order\",\n  \"data\": {\n    \"workOrderNo\": \"2511TS000051\",\n    \"qrCodeContent\": \"2511TS000051\",\n    \"phone\": \"020-111-999\",\n    \"taxId\": \"0105553039338\",\n    \"openDate\": \"2025-11-10T04:57:19.896Z\",\n    \"createdBy\": \"pir dev\",\n    \"customerName\": \"Chayanan Chutimamas\",\n    \"customerCode\": \"40203\",\n    \"contactName\": \"ชยานันต์ ชุติมามาศ\",\n    \"contactPhone\": \"0828488805\",\n    \"workOrderType\": \"ซ่อมและเปลี่ยนสาร\",\n    \"productName\": \"เครื่องกรองน้ำ S19-90-20MIX\",\n    \"productCode\": \"30-0026-F\",\n    \"serialNo\": \"Test90001218\",\n    \"serviceCenter\": \"ศูนย์บริการนวมินทร์\",\n    \"serviceDate\": \"2025-11-09T17:00:00.000Z\",\n    \"serviceTime\": \"08:00\",\n    \"purchaseDate\": \"\",\n    \"purchaseLocation\": \"\",\n    \"installDate\": \"\",\n    \"productAddress\": \"21/89, บ้านหลวง, จอมทอง, เชียงใหม่, 50160\",\n    \"receiveAddress\": \"21349/5455 แขวง สวนจิตรลดา เขต เขตดุสิต กรุงเทพมหานคร 10300\",\n    \"taxInvoiceAddress\": \"\",\n    \"initialSymptom\": \"\",\n    \"actionPerformed\": \"ตรวจสอบและซ่อมบำรุงเครื่องกรองน้ำ\",\n    \"customerAdvice\": \"ดูแลรักษาสม่ำเสมอ\",\n    \"preInstallData\": {\n      \"waterPressure\": \"30 psi\",\n      \"chlorine\": \"0.5\",\n      \"tds\": \"450\",\n      \"hardness\": \"200\",\n      \"airPressure\": \"15 psi\",\n      \"waterTemp\": \"28\",\n      \"ph\": \"7.2\"\n    },\n    \"postInstallData\": {\n      \"waterPressure\": \"30 psi\",\n      \"chlorine\": \"0.1\",\n      \"tds\": \"13\",\n      \"hardness\": \"33\",\n      \"airPressure\": \"15 psi\",\n      \"waterTemp\": \"28\",\n      \"ph\": \"4.8\"\n    },\n    \"technicianName\": \"ปอนด์ที่ส่งP1ได้ เทส\",\n    \"technicianWarehouse\": \"WBS-EC-A33\",\n    \"borrowSlipNos\": \"2511BR000089, 2511BR000088\",\n    \"quotationNo\": \"2511QT000013\",\n    \"evaluator\": \"pir dev\",\n    \"travelStartTime\": \"2025-11-10T05:12:59.780Z\",\n    \"workStartTime\": \"2025-11-10T05:13:16.538Z\",\n    \"workEndTime\": \"2025-11-10T05:14:01.860Z\",\n    \"costs\": {\n      \"productCost\": 179,\n      \"serviceFee\": 168.3,\n      \"installationFee\": 99,\n      \"travelCost\": 148.5,\n      \"otherCost\": 198,\n      \"totalCost\": 613.8\n    },\n    \"customerSignatureUrl\": \"\",\n    \"checklist\": [\n      { \"description\": \"ช่างได้แสดงบัตรประจำตัวพนักงานและแนะนำตัวเองให้ลูกค้าตรวจสอบ\", \"checked\": true },\n      { \"description\": \"ช่างได้ชี้แจงวัตถุประสงค์ในการให้บริการครั้งนี้อย่างชัดเจน\", \"checked\": true },\n      { \"description\": \"ช่างได้ตรวจสอบพื้นที่การทำงานและเครื่องที่จะรับบริการก่อนเริ่มดำเนินการ\", \"checked\": true },\n      { \"description\": \"ช่างได้แจ้งค่าใช้จ่ายให้ลูกค้ารับทราบก่อนเริ่มปฏิบัติงานทุกครั้ง\", \"checked\": true },\n      { \"description\": \"ช่างได้ตรวจสอบความเรียบร้อยของการให้บริการร่วมกับลูกค้า\", \"checked\": true },\n      { \"description\": \"ช่างได้ทำความสะอาดบริเวณพื้นที่หน้างานของลูกค้าให้เรียบร้อยแล้ว\", \"checked\": true },\n      { \"description\": \"ช่างได้ดำเนินการปรับตั้งวาล์วน้ำและเบรกเกอร์ที่เกี่ยวข้องให้ถูกต้องครบถ้วน\", \"checked\": true },\n      { \"description\": \"ช่างได้ให้คำแนะนำและอธิบายวิธีการใช้งานเครื่องแก่ลูกค้าอย่างละเอียด\", \"checked\": true },\n      { \"description\": \"แนะนำลูกค้าปิดวาล์วน้ำเมื่อออกจากบ้านเป็นระยะเวลานาน\", \"checked\": true }\n    ]\n  }\n}",
              "options": { "raw": { "language": "json" } }
            },
            "description": "Returns PDF binary directly (200). In Postman, click **Save Response → Save to a file** to download."
          }
        }
      ]
    },
    {
      "name": "Raw HTML",
      "item": [
        {
          "name": "Render Raw HTML → Stream",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "X-API-Key", "value": "{{apiKey}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/pdf/render?output=stream",
              "host": ["{{baseUrl}}"],
              "path": ["pdf", "render"],
              "query": [{ "key": "output", "value": "stream" }]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"html\": \"<!DOCTYPE html><html lang=\\\"th\\\"><head><meta charset=\\\"utf-8\\\"><link rel=\\\"stylesheet\\\" href=\\\"/assets/pdf-base.css\\\"><style>body{padding:20mm;font-size:14px;}</style></head><body><h1>{{title}}</h1><p>สวัสดีครับ {{name}}</p><p>วันที่: {{dateFormat date}}</p></body></html>\",\n  \"data\": {\n    \"title\": \"ทดสอบ Raw HTML\",\n    \"name\": \"Mazuma\",\n    \"date\": \"2025-11-10T00:00:00.000Z\"\n  }\n}",
              "options": { "raw": { "language": "json" } }
            },
            "description": "Pass raw HTML with optional Handlebars variables. `/assets/pdf-base.css` is available for Bai Jamjuree font + PDF conventions."
          }
        }
      ]
    },
    {
      "name": "Files",
      "item": [
        {
          "name": "Download Saved PDF",
          "request": {
            "method": "GET",
            "header": [{ "key": "X-API-Key", "value": "{{apiKey}}" }],
            "url": {
              "raw": "{{baseUrl}}/pdf/files/:fileName",
              "host": ["{{baseUrl}}"],
              "path": ["pdf", "files", ":fileName"],
              "variable": [{ "key": "fileName", "value": "borrowing-slip-abc12345-1234567890123.pdf", "description": "fileName returned by the Save to File requests" }]
            },
            "description": "Downloads a previously saved PDF. Files are auto-purged after 24 hours."
          }
        }
      ]
    }
  ]
}
